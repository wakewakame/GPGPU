# GPGPUを楽にするやつ  

## 概要  
OpenGLのComputeShaderの部分だけをラップした感じ  
C++で変数、関数を定義、実行するような感じで  
GPUにも変数や関数を定義、実行できるようにした(かった)  
pythonぐらい簡単にGPGPUできるようにしようとしたけど、うまく抽象化できなかった。。。  
GPU側で実行するプログラムは、GLSLをより抽象化したような言語を使用する  
概要は大体こんな感じ


## 準備
プロジェクトにGLFW,GLEWを追加する  
visual studioを使っているならNupenGLをNuGetで入れるだけでOK  
やり方は  
  
```
プロジェクト->NuGetパッケージの管理->参照  
```
から、検索欄にNupenGLと入力し、一番上に出てきたものを選択、インストールを押す  
  
他は知らん   

## 使い方の流れ  
gpgpu.hをincludeする  
gpgpu::initGL()でOpenGLなどを初期化  
gpgpu::var<>でCPUとGPUに共通の変数を宣言  
gpgpu::func func(gpuファイルの絶対パス)でGPU側に関数を宣言  
gpgpu::func::set_loop(ループ数、スレッド数,...)で関数を何回ループさせるか指定  
gpgpu::var::set()でCPU側の変数をGPU側の変数にコピー  
gpgpu::func::Compute(変数1,変数2,...)で計算  
gpgpu::var::get()でGPU側の変数をCPU側の変数にコピー  
終了時にはgpgpu::exitGL()を実行  
複雑そうに見えるけど、一回書いてみればそうでもないとわかるはず。  

## 言い訳
・GPU側に1000*1000ぐらいの長さの配列を宣言するとコンパイルが終わらない  
・処理速度が基本的にcpuより遅い  
とかいろいろあって面倒くさくなり、開発をやめることにしました。
しかし折角ここまで書いたものを捨てるのも勿体ないので、公開することにします。  
著作権は放棄するので、どなたか開発を進めてくれたら嬉しいです。  

## リファレンス  
  
### string gpgpu::error  
gpgpu::initGL()でエラーが発生した際はこの変数にエラー内容が代入される  
### bool initGL()  
初期化関数  
成功すれば1が返る  
### gpgpu::exitGL()  
終了時に実行する関数  
### gpgpu::var<>  
cpu側,gpu側に共通の変数  
  
#以下、気が向いたら更新する
